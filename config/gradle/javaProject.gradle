apply plugin: 'checkstyle'
apply plugin: 'idea'
apply plugin: "java"
apply plugin: "java-library"

dependencies {
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.8.1'

    compile group: 'com.google.guava', name: 'guava', version: '25.1-jre'
    compile group: 'com.alibaba', name: 'fastjson', version: '1.2.58'
    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.26'
    compile group: 'org.jetbrains', name: 'annotations', version: '13.0'
    // vendor

    testCompile 'junit:junit:4.12'
}

checkstyle {
    toolVersion "8.21"
    configFile file("${checkstyleDir}/checkstyle.xml")
    configProperties.checkstyleSuppressionsPath = file("${checkstyleDir}/suppressions.xml").absolutePath
}

checkstyleMain {
    source = 'src/main/java'
}

checkstyleTest {
    source = 'src/test/java'
}

idea {
    module {
        inheritOutputDirs = false
        outputDir = file("$buildDir/classes/java/main")
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

repositories {
    maven { url 'https://maven.aliyun.com/repository/jcenter' }
    mavenLocal()
    maven {
        url springRepo
    }
}

